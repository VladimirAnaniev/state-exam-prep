
#include <cmath>
#include <iostream>
#include <fstream>

/**
 * –ù–µ–∫–∞ —Ä–∞–∑–≥–ª–µ–¥–∞–º–µ —Å–ª–µ–¥–Ω–∞—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏ –∑–∞ –±—ä—Ä–∑–æ —Ç—ä—Ä—Å–µ–Ω–µ,
 * —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—â–∞ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–∞ —Ä–µ–¥–∏—Ü–∞ –æ—Ç —Ü–µ–ª–∏ —á–∏—Å–ª–∞: –ù–µ–∫–∞ –∏–º–∞–º–µ —Å–ø–∏—Å—ä–∫ —Å n –µ–ª–µ–º–µ–Ω—Ç–∞
 * –∏ –Ω–µ–∫–∞ —Å k –æ–∑–Ω–∞—á–∏–º –≥–æ—Ä–Ω–∞—Ç–∞ —Ü—è–ª–∞ —á–∞—Å—Ç –Ω–∞ —á–∏—Å–ª–æ—Ç–æ ‚àöùëõ.
 *
 * –í—Å–µ–∫–∏ –≤—ä–∑–µ–ª –Ω–∞ —Å–ø–∏—Å—ä–∫–∞ —Å—ä–¥—ä—Ä–∂–∞ —Ü—è–ª–æ —á–∏—Å–ª–æ –∏ –¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è.
 * –ü—ä—Ä–≤–∏—è—Ç —É–∫–∞–∑–∞—Ç–µ–ª –≤–∏–Ω–∞–≥–∏ —Å–æ—á–∏ —Å–ª–µ–¥–≤–∞—â–∏—è –µ–ª–µ–º–µ–Ω—Ç (–∞–∫–æ –∏–º–∞ —Ç–∞–∫—ä–≤).
 * –ó–∞ –≤—ä–∑–ª–∏—Ç–µ, –Ω–∞–º–∏—Ä–∞—â–∏ —Å–µ –Ω–∞ –∏–Ω–¥–µ–∫—Å, –∫—Ä–∞—Ç–µ–Ω –Ω–∞ k, –≤—Ç–æ—Ä–∏—è—Ç —É–∫–∞–∑–∞—Ç–µ–ª —Å–æ—á–∏ –≤—ä–∑–µ–ª–∞,
 * –Ω–∞–º–∏—Ä–∞—â —Å–µ –Ω–∞ k –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞–ø—Ä–µ–¥ (–∞–∫–æ –∏–º–∞ —Ç–∞–∫—ä–≤).
 * –í –≥–æ—Ä–Ω–∏—è –ø—Ä–∏–º–µ—Ä n = 9, k = 3.
 *
 * –∞) –î–∞ —Å–µ –Ω–∞–ø–∏—à–µ —Ñ—É–Ω–∫—Ü–∏—è readList, –∫–æ—è—Ç–æ –ø–æ –ø–æ–¥–∞–¥–µ–Ω –ø—ä—Ç –¥–æ —Ç–µ–∫—Å—Ç–æ–≤ —Ñ–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞ –æ—Ç
 * —Ñ–∞–π–ª–∞ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–∞ —Ä–µ–¥–∏—Ü–∞ –æ—Ç —Ü–µ–ª–∏ —á–∏—Å–ª–∞ –∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–∞ —Å–ø–∏—Å—ä–∫ –æ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –ø–æ-–≥–æ—Ä–µ —Ç–∏–ø,
 * —Å—ä–¥—ä—Ä–∂–∞—â –ø—Ä–æ—á–µ—Ç–µ–Ω–∏—Ç–µ —á–∏—Å–ª–∞.
 * –ß–∏—Å–ª–∞—Ç–∞ —Å–∞ –∑–∞–ø–∏—Å–∞–Ω–∏ –≤—ä–≤ —Ñ–∞–π–ª–∞ –Ω–∞ –µ–¥–∏–Ω —Ä–µ–¥ –∏ —Å–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏.
 *
 * –±) –î–∞ —Å–µ –Ω–∞–ø–∏—à–µ –±—É–ª–µ–≤–∞ —Ñ—É–Ω–∫—Ü–∏—è member, –∫–æ—è—Ç–æ –ø–æ –¥–∞–¥–µ–Ω —Å–ø–∏—Å—ä–∫ –æ—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Ç–∏–ø
 * –∏ –¥–∞–¥–µ–Ω–æ —Ü—è–ª–æ —á–∏—Å–ª–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —Ç–æ–≤–∞ —á–∏—Å–ª–æ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –≤ —Å–ø–∏—Å—ä–∫–∞.
 * –§—É–Ω–∫—Ü–∏—è—Ç–∞ –¥–∞ —Ä–µ–∞–ª–∏–∑–∏—Ä–∞ –µ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç—ä–º –∑–∞ —Ç—ä—Ä—Å–µ–Ω–µ, –∫–æ–π—Ç–æ —Å–µ –≤—ä–∑–ø–æ–ª–∑–≤–∞ –æ—Ç
 * –æ—Å–æ–±–µ–Ω–æ—Å—Ç–∏—Ç–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞, –∑–∞ –¥–∞ –º–∏–Ω–∏–º–∏–∑–∏—Ä–∞ –±—Ä–æ—è –Ω–∞ –æ–±—Ö–æ–¥–µ–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏.
 *
 * –ü—Ä–∏–º–µ—Ä:–∞–∫–æ –≤ —Å–ø–∏—Å—ä–∫–∞ –æ—Ç –¥–∏–∞–≥—Ä–∞–º–∞—Ç–∞ –ø–æ-–≥–æ—Ä–µ —Ç—ä—Ä—Å–∏–º —á–∏—Å–ª–æ—Ç–æ 6, –ø—Ä–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç—ä–º –∑–∞
 * —Ç—ä—Ä—Å–µ–Ω–µ —â–µ –±—ä–¥–∞—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ –æ–±—Ö–æ–¥–µ–Ω–∏ —Å–ª–µ–¥–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏: 1, 4, 7, 5, 6
 * –∏ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ member —â–µ –≤—ä—Ä–Ω–µ —Ä–µ–∑—É–ª—Ç–∞—Ç ‚Äú–∏—Å—Ç–∏–Ω–∞‚Äù.
 *
 * –ó–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ç–∞ –Ω–∞ –≥–æ—Ä–µ–æ–ø–∏—Å–∞–Ω–∞—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏ –∏ –∑–∞ —Ñ—É–Ω–∫—Ü–∏–∏—Ç–µ readList –∏ member
 * –Ω–µ –µ–ø–æ–∑–≤–æ–ª–µ–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –æ—Ç –¥–∞–Ω–Ω–∏ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏,
 * –Ω–æ –µ –ø–æ–∑–≤–æ–ª–µ–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–µ.
 */

struct Node {
    int value;
    Node *next;
    Node *skip;

    Node(int value): value(value), next(nullptr), skip(nullptr) {}
};


Node *constructList(int *numbers, int n) {
    int k = (int) sqrt(n);

    Node *first = new Node(numbers[0]);

    Node *previous = first;
    Node *skip = first;

    for (int i = 1; i < n; i++) {
        Node *node = new Node(numbers[i]);
        previous->next = node;
        previous = node;

        if (i % k == 1) {
            skip->skip = node;
            skip = node;
        }
    }

    return first;
}

Node *readList(char *filename) {
    int *numbers = new int[100];
    int n = 0;

    std::ifstream file;
    file.open(filename);
    while (!file.eof()) {
        file >> numbers[n++];
    }
    file.close();

    return constructList(numbers, 9);
}

bool member(Node *list, int n) {
    Node *current = list;

    while(current->skip != nullptr && current->skip->value <= n) {
        current = current->skip;
    }

    while(current->next != nullptr && current->next->value <= n) {
        current = current->next;
    }

    return current->value == n;
}

int main() {

    std::cout << member(readList("test"), 8);
    return 0;
}